
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">ainsl - AppendIfNoSuchLine <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0"><span Class="bold">ainsl</span> 
<p class="level0"><a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">Add LINE to the end of FILE if this file does not contain this line already. If PATTERN is given, then the LINE is only appended if PATTERN is not found in the file. 
<p class="level0">Since ainsl is written in Perl, you can use Perl's regular expressions in PATTERN. If PATTERN is not given, LINE is used instead for matching a line in FILE. Then LINE may also contain the anchors '^' and '$' which are only treated specialy at the beginning or end of the pattern and are used for matching, not when adding the line. Additionaly, the following characters are escaped in LINE: ( ) + 
<p class="level0">The exit code returned by ainsl is 0 on success and non-zero on error.  See the section EXIT CODES. 
<p class="level0"><a name="OPTIONS"></a><h2 class="nroffsh">OPTIONS</h2>
<p class="level0">
<p class="level0"><span Class="bold">-a</span> Autocreate file if it does not exist. 
<p class="level0"><span Class="bold">-D</span> Create debugging output. 
<p class="level0"><span Class="bold">-h</span> Show help, version and summary of options. 
<p class="level0"><span Class="bold">-n </span> Print the actions, but do not execute them. 
<p class="level0"><span Class="bold">-Q </span> Quote all metacharacters in pattern. Uses perl's \Q function. 
<p class="level0"><span Class="bold">-q </span> Quote * and + metacharacters in pattern. 
<p class="level0"><span Class="bold">-s </span> Convert white space in LINE or PATTERN to '\s+' regexp for matching. 
<p class="level0"><span Class="bold">-N</span> Don't prepend '$AINSL_TARGET/' to filename, even if it is set. 
<p class="level0"><span Class="bold">-v</span> Create verbose output. 
<p class="level0"><a name="NOTES"></a><h2 class="nroffsh">NOTES</h2>
<p class="level0"><br>IF the variable AINSL_TARGET is defined, its value will become the prefix for the filename. This is used in FAI for changing files in /target without specifying /target in the file name. 
<p class="level0"><a name="EXAMPLES"></a><h2 class="nroffsh">EXAMPLES</h2>
<p class="level0"><br>ainsl -v /etc/fstab '/dev/fd0  /floppy  auto  users,noauto 0 0' 
<p class="level0">Append the entry for the floppy device to /etc/fstab, if this line isn't already inlcuded. 
<p class="level0">ainsl -s /etc/exports '/srv/www @linuxhosts(async,rw) backup(async,ro)' 
<p class="level0">Add exports entry without exactly matching spaces. 
<p class="level0"><a name="EXIT"></a><h2 class="nroffsh">EXIT CODES</h2>
<p class="level0">
<p class="level0"><span Class="bold">0</span> Success: Either FILE contains the LINE/PATTERN or LINE was appended to FILE. 
<p class="level0"><span Class="bold">13</span> Permissions do not allow writing to FILE and LINE/PATTERN was not found in file. 
<p class="level0"><span Class="bold">28</span> FILE cannot be written because the filesystem has no space and LINE/PATTERN was not found in file. 
<p class="level0"><span Class="bold">30</span> FILE cannot be written because the filesystem is read-only and LINE/PATTERN was not found in file. 
<p class="level0"><a name="NOTES"></a><h2 class="nroffsh">NOTES</h2>
<p class="level0">This is a similar function to AppendIfNoSuchLine from cfengine(8). <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><br>This program is part of FAI (Fully Automatic Installation).  See the FAI manual for more information on how to use ainsl.  The FAI homepage is <a href="http://fai-project.org.">http://fai-project.org.</a> 
<p class="level0"><a name="AUTHOR"></a><h2 class="nroffsh">AUTHOR</h2>
<p class="level0">Thomas Lange &lt;lange@informatik.uni-koeln.de&gt; 