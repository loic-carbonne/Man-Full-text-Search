
<p class="level0">
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">vlna - adds tilde after each non-syllabic preposition <a name="USAGE"></a><h2 class="nroffsh">USAGE</h2>
<p class="level0"><span Class="bold">vlna</span> [<span Class="emphasis">options</span>] [<span Class="emphasis">filenames</span>] <a name="PREFACE"></a><h2 class="nroffsh">PREFACE</h2>
<p class="level0">There exists a special Czech and Slovak typographical rule: you cannot leave the non-syllabic preposition on the end of one line and continue writting text on next line. For example,  you cannot write down the text "v lese" (in a forest) like  "v&lt;new-line&gt;lese". The program vlna adds the asciitilde between such preposition and the next word and removes the space(s) in this place.  It means, the program converts "v lese" to "v~lese". You can use this program as a preporcessor before TeXing. Moreower, you can set another sequence to store instead asciitilte (see the <span Class="bold">-x</span> option). <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">The program <span Class="bold">vlna</span> processes one or more files, searches the non-syllabic prepositions  followed by space(s) in these files and converts this/these space(s)  to asciitilde for each such occurrence. 
<p class="level0">In the processed file, the activity of the program can be blocked by <span Class="bold">%~-</span> sequence and the activity can be restored again by the  <span Class="bold">%~+</span> sequence. These sequences can include spaces, it means that <span Class="bold">% ~-</span> is a correct sequence too. 
<p class="level0">The rule to recognize a preposition follows: The arbitrary number of opening parentheses can be written before the preposition and before these (optional) parentheses must be the space, tabelator or new-line. The preposition itself is one-letter word, the letters  have to be from this set: {KkSsVvZzOoUuAI}. See the <span Class="bold">-v</span> option if you  want to change this set of letters. From version 1.2, the TeX sequence  can be written before preposition and before the brace. Example: "&lt;new-line&gt;([V lese" is converted to "&lt;new-line&gt;([V~lese". Another example: "\uv{V lese}" is converted to "\uv{V~lese}". 
<p class="level0">One or more blank-spaces have to be included after preposition  before next word. The blank-space means space or tabelator.  One &lt;new-line&gt; can be here too. All these characters are removed and replaced by asciitilde (or by  another string, see <span Class="bold">-x</span> option). If &lt;new-line&gt; is deleted, another  &lt;new-line&gt; is created before preposition (and before optional parentheses) in order to the number of lines is kept unchanged.  Example: "... V&lt;new-line&gt;&lt;tabelator&gt;lese" is converted to "...&lt;new-line&gt;V~lese". 
<p class="level0">The program checks the consintence of TeX's math environments (if <span Class="bold">-m</span> option isn't used). For example the "$...$$...$" sequence (it means the display mode switch inside the text-math mode) generates a warning. Empty line inside display mode generates  a warning too and the program processes next text like  in normal (non-math) mode. The existence of the "$" inside display mode are accepted because the constructions like $$..\hbox{..$..$}..$$ are allowed and common. 
<p class="level0">The consistence of verbatim mode is checked on the end of the file. If the file ends but the verbatim mode does not end the warning is printed. This behavior can be switched off by <span Class="bold">-n</span> or <span Class="bold">-w</span> options. 
<p class="level0">The program suppresses the tilde changing after letters like prepositions  but they are not prepositions because the <span Class="bold">\TeX</span> or <span Class="bold">\LaTeX</span> sequence precedes. Example: "vlastnosti \TeX u jsou" is not converted to "vlastnosti \TeX u~jsou", because this text is printed (after TeX  processing) like "vlastnosti TeXu jsou". The letter "u" is a suffix here,  no preposition. <a name="OPTIONS"></a><h2 class="nroffsh">OPTIONS</h2>
<p class="level0">The options are optional and can be written in arbitrarty order separated  by space. 
<p class="level0"><span Class="bold">-f</span> Filter. The [<span Class="emphasis">filenames</span>] are treated as follows: 
<p class="level1">
<p class="level1"><span Class="bold">vlna -f filename1 filename2</span> Input is <span Class="emphasis">filename1</span>, output is <span Class="emphasis">filename2</span>. 
<p class="level1"><span Class="bold">vlna -f filename1</span> Input is <span Class="emphasis">filename1</span>, output is <span Class="emphasis">stdout</span>. 
<p class="level1"><span Class="bold">vlna -f</span> Input is <span Class="emphasis">stdin</span>, output is <span Class="emphasis">stdout</span>. 
<p class="level1"><span Class="bold">vlna</span> <span Class="emphasis">filename1</span> [<span Class="emphasis">filename2</span> [<span Class="emphasis">filename3</span> ...]] If the <span Class="bold">-f</span> option is omitted then each file is processed independently and it is re-written. 
<p class="level0">
<p class="level0"><span Class="bold">-s</span> The silent mode. No messages, warnings, statistics are printed. Only errors which terminates the program untimely are printed. If this parameter is omitted then banner, warnings and statistics  are printed to <span Class="emphasis">stderr</span>. 
<p class="level0"><span Class="bold">-r</span> Do not create the backups. The option <span Class="bold">-r</span> is irrelevant if the <span Class="bold">-f</span> option is used. If the <span Class="bold">-f</span> and <span Class="bold">-r</span> options  aren't used then each re-written file is stored with its original contents  to a backup file (the name of backup file is the same as filename, only the tilde is used instead of the last character).  
<p class="level0"><span Class="bold">-v characters</span> The set of characters treated as non-syllabic prepositions is declared by this option. Default: <span Class="bold">-v&nbsp;KkSsVvZzOoUuAI</span>. The space between <span Class="bold">-v</span> and <span Class="emphasis">characters</span> is required. 
<p class="level0"><span Class="bold">-x code</span> The <span Class="emphasis">code</span> is a string written in hexadecimal notation (even hexa digits is required). This string will be saved after prepositions  instead asciitilde which is default. The example: <span Class="bold">-x C2A0</span> two bytes are stored after each  non-syllabic preposition, first byte has C2 code and second byte  has A0 code. This example means that NO-BREAK SPACE in UTF8 encoding will be used after prepositions. Another example: <span Class="bold">-x 00A0</span> the NO-BREAK SPACE in UTF16 encoding. Another example: <span Class="bold">-x 48454C4C4F</span> the string HELLO will be used. The space between <span Class="bold">-x</span> and <span Class="emphasis">code</span> is required. 
<p class="level0"><span Class="bold">-m</span> The math-modes (<span Class="bold">$</span>...<span Class="bold">$</span> and <span Class="bold">$$</span>...<span Class="bold">$$</span>) are ignored. It means that non-syllabic prepositions is searched in math-mode too. Default (without <span Class="bold">-m</span> option): no changes in math modes are done  because (for example) "v" is variable in math-mode, no preposition. 
<p class="level0"><span Class="bold">-n</span> The verbatim mode (<span Class="bold">\verb</span><span Class="emphasis">&lt;char&gt;</span>...<span Class="emphasis">&lt;char&gt;</span>, <span Class="bold">\begtt</span>...<span Class="bold">\endtt</span>) is ignored, it means the program can  do a changes in verbatim environment.  Default (without <span Class="bold">-n</span> option): no changes in verbatim mode are done. 
<p class="level0"><span Class="bold">-l</span> The LaTeX mode. The following environments are treated as display mode: <span Class="bold">\begin{display}</span>...<span Class="bold">\end{display}</span> and  <span Class="bold">\begin{equation}</span>...<span Class="bold">\end{equation}</span> and the following  environment is treated as verbatim mode: <span Class="bold">\begin{verbatim}</span>...<span Class="bold">\end{verbatim}</span>. 
<p class="level0"><span Class="bold">-w</span> The web mode (Knuth's web, no www:-). The following sequences are  treated as verbatim: <span Class="bold">@&lt;</span>, <span Class="bold">@d</span>...<span Class="bold">@*</span>, <span Class="bold">@</span><span Class="emphasis">space</span> or <span Class="bold">@&gt;|</span>. It means program code is unchanged in *.w or *.web files, only  web-comments are processed.  <a name="EXAMPLES"></a><h2 class="nroffsh">EXAMPLES</h2>
<p class="level0">
<p class="level0"><span Class="bold">vlna -m -n -s -r file</span> The program has a behavior similar to the old <span Class="bold">vlnka</span> program. 
<p class="level0"><span Class="bold">vlna *.tex</span> All files with .tex suffix in current directory will be processed  (and possibly changed). (The "*" is UNIX-shell feautre). 
<p class="level0"><span Class="bold">vlna -f file &gt; /dev/null</span> Only the consistence checking of math and verbatim modes is processed. No changes are done. <a name="AUTHORS"></a><h2 class="nroffsh">AUTHORS</h2>
<p class="level0">Petr Olsak &lt;olsak@math.feld.cvut.cz&gt;.  Man page (Czech original) and Makefile is created by Rulolf Cejka 