
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">git-apply - Apply a patch to files and/or to the index <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">
<p class="level0"><pre class="level0">
<span class="emphasis">git apply</span> [--stat] [--numstat] [--summary] [--check] [--index] [--3way]
&nbsp;         [--apply] [--no-add] [--build-fake-ancestor=&lt;file&gt;] [-R | --reverse]
&nbsp;         [--allow-binary-replacement | --binary] [--reject] [-z]
&nbsp;         [-p&lt;n&gt;] [-C&lt;n&gt;] [--inaccurate-eof] [--recount] [--cached]
&nbsp;         [--ignore-space-change | --ignore-whitespace ]
&nbsp;         [--whitespace=(nowarn|warn|fix|error|error-all)]
&nbsp;         [--exclude=&lt;path&gt;] [--include=&lt;path&gt;] [--directory=&lt;root&gt;]
&nbsp;         [--verbose] [&lt;patch&gt;...]
</pre>

<p class="level0">
<p class="level0"><a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">
<p class="level0">Reads the supplied diff output (i.e. "a patch") and applies it to files. With the --index option the patch is also applied to the index, and with the --cached option the patch is only applied to the index. Without these options, the command applies the patch only to files, and does not require them to be in a Git repository. 
<p class="level0">This command applies the patch but does not create a commit. Use <span Class="bold">git-am</span>(1) to create commits from patches generated by <span Class="bold">git-format-patch</span>(1) and/or received by email. <a name="OPTIONS"></a><h2 class="nroffsh">OPTIONS</h2>
<p class="level0">
<p class="level0">&lt;patch&gt;... 
<p class="level1">The files to read the patch from. <span Class="emphasis">-</span> can be used to read from the standard input. 
<p class="level0">
<p class="level0">--stat 
<p class="level1">Instead of applying the patch, output diffstat for the input. Turns off "apply". 
<p class="level0">
<p class="level0">--numstat 
<p class="level1">Similar to --stat, but shows the number of added and deleted lines in decimal notation and the pathname without abbreviation, to make it more machine friendly. For binary files, outputs two - instead of saying 0 0. Turns off "apply". 
<p class="level0">
<p class="level0">--summary 
<p class="level1">Instead of applying the patch, output a condensed summary of information obtained from git diff extended headers, such as creations, renames and mode changes. Turns off "apply". 
<p class="level0">
<p class="level0">--check 
<p class="level1">Instead of applying the patch, see if the patch is applicable to the current working tree and/or the index file and detects errors. Turns off "apply". 
<p class="level0">
<p class="level0">--index 
<p class="level1">When --check is in effect, or when applying the patch (which is the default when none of the options that disables it is in effect), make sure the patch is applicable to what the current index file records. If the file to be patched in the working tree is not up-to-date, it is flagged as an error. This flag also causes the index file to be updated. 
<p class="level0">
<p class="level0">--cached 
<p class="level1">Apply a patch without touching the working tree. Instead take the cached data, apply the patch, and store the result in the index without using the working tree. This implies --index. 
<p class="level0">
<p class="level0">-3, --3way 
<p class="level1">When the patch does not apply cleanly, fall back on 3-way merge if the patch records the identity of blobs it is supposed to apply to, and we have those blobs available locally, possibly leaving the conflict markers in the files in the working tree for the user to resolve. This option implies the --index option, and is incompatible with the --reject and the --cached options. 
<p class="level0">
<p class="level0">--build-fake-ancestor=&lt;file&gt; 
<p class="level1">Newer <span Class="emphasis">git diff</span> output has embedded <span Class="emphasis">index information</span> for each blob to help identify the original version that the patch applies to. When this flag is given, and if the original versions of the blobs are available locally, builds a temporary index containing those blobs. 
<p class="level1">When a pure mode change is encountered (which has no index information), the information is read from the current index instead. 
<p class="level0">
<p class="level0">-R, --reverse 
<p class="level1">Apply the patch in reverse. 
<p class="level0">
<p class="level0">--reject 
<p class="level1">For atomicity, <span Class="emphasis">git apply</span> by default fails the whole patch and does not touch the working tree when some of the hunks do not apply. This option makes it apply the parts of the patch that are applicable, and leave the rejected hunks in corresponding *.rej files. 
<p class="level0">
<p class="level0">-z 
<p class="level1">When --numstat has been given, do not munge pathnames, but use a NUL-terminated machine-readable format. 
<p class="level1">Without this option, each pathname output will have TAB, LF, double quotes, and backslash characters replaced with et, en, e", and ee, respectively, and the pathname will be enclosed in double quotes if any of those replacements occurred. 
<p class="level0">
<p class="level0">-p&lt;n&gt; 
<p class="level1">Remove &lt;n&gt; leading slashes from traditional diff paths. The default is 1. 
<p class="level0">
<p class="level0">-C&lt;n&gt; 
<p class="level1">Ensure at least &lt;n&gt; lines of surrounding context match before and after each change. When fewer lines of surrounding context exist they all must match. By default no context is ever ignored. 
<p class="level0">
<p class="level0">--unidiff-zero 
<p class="level1">By default, <span Class="emphasis">git apply</span> expects that the patch being applied is a unified diff with at least one line of context. This provides good safety measures, but breaks down when applying a diff generated with --unified=0. To bypass these checks use --unidiff-zero. 
<p class="level1">Note, for the reasons stated above usage of context-free patches is discouraged. 
<p class="level0">
<p class="level0">--apply 
<p class="level1">If you use any of the options marked "Turns off <span Class="emphasis">apply</span>" above, <span Class="emphasis">git apply</span> reads and outputs the requested information without actually applying the patch. Give this flag after those flags to also apply the patch. 
<p class="level0">
<p class="level0">--no-add 
<p class="level1">When applying a patch, ignore additions made by the patch. This can be used to extract the common part between two files by first running <span Class="emphasis">diff</span> on them and applying the result with this option, which would apply the deletion part but not the addition part. 
<p class="level0">
<p class="level0">--allow-binary-replacement, --binary 
<p class="level1">Historically we did not allow binary patch applied without an explicit permission from the user, and this flag was the way to do so. Currently we always allow binary patch application, so this is a no-op. 
<p class="level0">
<p class="level0">--exclude=&lt;path-pattern&gt; 
<p class="level1">Don(cqt apply changes to files matching the given path pattern. This can be useful when importing patchsets, where you want to exclude certain files or directories. 
<p class="level0">
<p class="level0">--include=&lt;path-pattern&gt; 
<p class="level1">Apply changes to files matching the given path pattern. This can be useful when importing patchsets, where you want to include certain files or directories. 
<p class="level1">When --exclude and --include patterns are used, they are examined in the order they appear on the command line, and the first match determines if a patch to each path is used. A patch to a path that does not match any include/exclude pattern is used by default if there is no include pattern on the command line, and ignored if there is any include pattern. 
<p class="level0">
<p class="level0">--ignore-space-change, --ignore-whitespace 
<p class="level1">When applying a patch, ignore changes in whitespace in context lines if necessary. Context lines will preserve their whitespace, and they will not undergo whitespace fixing regardless of the value of the --whitespace option. New lines will still be fixed, though. 
<p class="level0">
<p class="level0">--whitespace=&lt;action&gt; 
<p class="level1">When applying a patch, detect a new or modified line that has whitespace errors. What are considered whitespace errors is controlled by core.whitespace configuration. By default, trailing whitespaces (including lines that solely consist of whitespaces) and a space character that is immediately followed by a tab character inside the initial indent of the line are considered whitespace errors. 
<p class="level1">By default, the command outputs warning messages but applies the patch. When git-apply is used for statistics and not applying a patch, it defaults to nowarn. 
<p class="level1">You can use different &lt;action&gt; values to control this behavior: 
<p class="level1">
<p class="level2">
<p class="level2">h'-04'(buh'+03'c 
<p class="level2">
<p class="level2">
<p class="level2">
<p class="level1"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level2">
<p class="level2">nowarn turns off the trailing whitespace warning. 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2">h'-04'(buh'+03'c 
<p class="level2">
<p class="level2">
<p class="level2">
<p class="level1"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level2">
<p class="level2">warn outputs warnings for a few such errors, but applies the patch as-is (default). 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2">h'-04'(buh'+03'c 
<p class="level2">
<p class="level2">
<p class="level2">
<p class="level1"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level2">
<p class="level2">fix outputs warnings for a few such errors, and applies the patch after fixing them (strip is a synonym --- the tool used to consider only trailing whitespace characters as errors, and the fix involved <span Class="emphasis">stripping</span> them, but modern Gits do more). 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2">h'-04'(buh'+03'c 
<p class="level2">
<p class="level2">
<p class="level2">
<p class="level1"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level2">
<p class="level2">error outputs warnings for a few such errors, and refuses to apply the patch. 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2">h'-04'(buh'+03'c 
<p class="level2">
<p class="level2">
<p class="level2">
<p class="level1"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level2">
<p class="level2">error-all is similar to error but shows all errors. 
<p class="level1">
<p class="level0">
<p class="level0">--inaccurate-eof 
<p class="level1">Under certain circumstances, some versions of <span Class="emphasis">diff</span> do not correctly detect a missing new-line at the end of the file. As a result, patches created by such <span Class="emphasis">diff</span> programs do not record incomplete lines correctly. This option adds support for applying such patches by working around this bug. 
<p class="level0">
<p class="level0">-v, --verbose 
<p class="level1">Report progress to stderr. By default, only a message about the current patch being applied will be printed. This option will cause additional information to be reported. 
<p class="level0">
<p class="level0">--recount 
<p class="level1">Do not trust the line counts in the hunk headers, but infer them by inspecting the patch (e.g. after editing the patch without adjusting the hunk headers appropriately). 
<p class="level0">
<p class="level0">--directory=&lt;root&gt; 
<p class="level1">Prepend &lt;root&gt; to all filenames. If a "-p" argument was also passed, it is applied before prepending the new root. 
<p class="level1">For example, a patch that talks about updating a/git-gui.sh to b/git-gui.sh can be applied to the file in the working tree modules/git-gui/git-gui.sh by running git apply --directory=modules/git-gui. 
<p class="level0"><a name="CONFIGURATION"></a><h2 class="nroffsh">CONFIGURATION</h2>
<p class="level0">
<p class="level0">apply.ignorewhitespace 
<p class="level1">Set to <span Class="emphasis">change</span> if you want changes in whitespace to be ignored by default. Set to one of: no, none, never, false if you want changes in whitespace to be significant. 
<p class="level0">
<p class="level0">apply.whitespace 
<p class="level1">When no --whitespace flag is given from the command line, this configuration item is used as the default. 
<p class="level0"><a name="SUBMODULES"></a><h2 class="nroffsh">SUBMODULES</h2>
<p class="level0">
<p class="level0">If the patch contains any changes to submodules then <span Class="emphasis">git apply</span> treats these changes as follows. 
<p class="level0">If --index is specified (explicitly or implicitly), then the submodule commits must match the index exactly for the patch to apply. If any of the submodules are checked-out, then these check-outs are completely ignored, i.e., they are not required to be up-to-date or clean and they are not updated. 
<p class="level0">If --index is not specified, then the submodule commits in the patch are ignored and only the absence or presence of the corresponding subdirectory is checked and (if possible) updated. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0">
<p class="level0"><span Class="bold">git-am</span>(1). <a name="GIT"></a><h2 class="nroffsh">GIT</h2>
<p class="level0">
<p class="level0">Part of the <span Class="bold">git</span>(1) suite 