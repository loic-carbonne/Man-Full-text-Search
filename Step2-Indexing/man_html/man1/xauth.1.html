
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">xauth - X authority file utility <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0"><span Class="bold">xauth</span> [ <span Class="bold">-f</span> <span Class="emphasis">authfile</span> ] [ <span Class="bold">-vqibn</span> ] [ <span Class="emphasis">command arg ...</span> ] <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">
<p class="level0">The <span Class="emphasis">xauth</span> program is used to edit and display the authorization information used in connecting to the X server.  This program is usually used to extract authorization records from one machine and merge them in on another (as is the case when using remote logins or granting access to other users).  Commands (described below) may be entered interactively, on the <span Class="emphasis">xauth</span> command line, or in scripts.  Note that this program does <span Class="bold">not</span> contact the X server except when the generate command is used. Normally <span Class="emphasis">xauth</span> is not used to create the authority file entry in the first place; the program that starts the X server (often <span Class="emphasis">xdm</span> or <span Class="emphasis">startx</span>) does that. <a name="OPTIONS"></a><h2 class="nroffsh">OPTIONS</h2>
<p class="level0">The following options may be used with <span Class="emphasis">xauth</span>.  They may be given individually (e.g., <span Class="emphasis">-q -i|</span>) or may combined (e.g., <span Class="emphasis">-qi|</span>). 
<p class="level0"><span Class="bold">-f authfile</span> This option specifies the name of the authority file to use.  By default, <span Class="emphasis">xauth</span> will use the file specified by the XAUTHORITY environment variable or <span Class="emphasis">.Xauthority</span> in the user's home directory. 
<p class="level0"><span Class="bold">-q</span> This option indicates that <span Class="emphasis">xauth</span> should operate quietly and not print unsolicited status messages.  This is the default if an <span Class="emphasis">xauth</span> command is given on the command line or if the standard output is not directed to a terminal. 
<p class="level0"><span Class="bold">-v</span> This option indicates that <span Class="emphasis">xauth</span> should operate verbosely and print status messages indicating the results of various operations (e.g., how many records have been read in or written out).  This is the default if <span Class="emphasis">xauth</span> is reading commands from its standard input and its standard output is directed to a terminal. 
<p class="level0"><span Class="bold">-i</span> This option indicates that <span Class="emphasis">xauth</span> should ignore any authority file locks.  Normally, <span Class="emphasis">xauth</span> will refuse to read or edit any authority files that have been locked by other programs (usually <span Class="emphasis">xdm</span> or another <span Class="emphasis">xauth</span>). 
<p class="level0"><span Class="bold">-b</span> This option indicates that <span Class="emphasis">xauth</span> should attempt to break any authority file locks before proceeding.  Use this option only to clean up stale locks. 
<p class="level0"><span Class="bold">-n</span> This option indicates that <span Class="emphasis">xauth</span> should not attempt to resolve any hostnames, but should simply always print the host address as stored in the authority file. 
<p class="level0"><span Class="bold">-V</span> This option shows the version number of the xauth executable. <a name="COMMANDS"></a><h2 class="nroffsh">COMMANDS</h2>
<p class="level0">The following commands may be used to manipulate authority files: 
<p class="level0"><span Class="bold">add displayname protocolname hexkey</span> An authorization entry for the indicated display using the given protocol and key data is added to the authorization file.  The data is specified as an even-lengthed string of hexadecimal digits, each pair representing one octet.  The first digit of each pair gives the most significant 4 bits of the octet, and the second digit of the pair gives the least significant 4 bits.  For example, a 32 character hexkey would represent a 128-bit value. A protocol name consisting of just a single period is treated as an abbreviation for <span Class="emphasis">MIT-MAGIC-COOKIE-1</span>. 
<p class="level0">
<p class="level0"><span Class="bold">generate displayname protocolname [trusted|untrusted]</span> <span Class="bold">[timeout seconds]  [group group-id] [\fBdata hexdata]</span> 
<p class="level0">This command is similar to add.  The main difference is that instead of requiring the user to supply the key data, it connects to the server specified in <span Class="emphasis">displayname</span> and uses the SECURITY extension in order to get the key data to store in the authorization file.  If the server cannot be contacted or if it does not support the SECURITY extension, the command fails.  Otherwise, an authorization entry for the indicated display using the given protocol is added to the authorization file.  A protocol name consisting of just a single period is treated as an abbreviation for <span Class="emphasis">MIT-MAGIC-COOKIE-1</span>. 
<p class="level0">If the <span Class="bold">trusted</span> option is used, clients that connect using this authorization will have full run of the display, as usual.  If <span Class="bold">untrusted</span> is used, clients that connect using this authorization will be considered untrusted and prevented from stealing or tampering with data belonging to trusted clients.  See the SECURITY extension specification for full details on the restrictions imposed on untrusted clients.  The default is <span Class="bold">untrusted</span>. 
<p class="level0">The <span Class="bold">timeout</span> option specifies how long in seconds this authorization will be valid.  If the authorization remains unused (no clients are connected with it) for longer than this time period, the server purges the authorization, and future attempts to connect using it will fail.  Note that the purging done by the server does <span Class="bold">not</span> delete the authorization entry from the authorization file.  The default timeout is 60 seconds. 
<p class="level0">The <span Class="bold">group</span> option specifies the application group that clients connecting with this authorization should belong to.  See the application group extension specification for more details.  The default is to not belong to an application group. 
<p class="level0">The <span Class="bold">data</span> option specifies data that the server should use to generate the authorization.  Note that this is <span Class="bold">not</span> the same data that gets written to the authorization file.  The interpretation of this data depends on the authorization protocol.  The <span Class="emphasis">hexdata</span> is in the same format as the <span Class="emphasis">hexkey</span> described in the add command. The default is to send no data. 
<p class="level0">
<p class="level0"><span Class="bold">[n]extract filename displayname...</span> Authorization entries for each of the specified displays are written to the indicated file.  If the <span Class="emphasis">nextract</span> command is used, the entries are written in a numeric format suitable for non-binary transmission (such as secure electronic mail).  The extracted entries can be read back in using the <span Class="emphasis">merge</span> and <span Class="emphasis">nmerge</span> commands.  If the filename consists of just a single dash, the entries will be written to the standard output. 
<p class="level0"><span Class="bold">[n]list [displayname...]</span> Authorization entries for each of the specified displays (or all if no displays are named) are printed on the standard output.  If the <span Class="emphasis">nlist</span> command is used, entries will be shown in the numeric format used by the <span Class="emphasis">nextract</span> command; otherwise, they are shown in a textual format. Key data is always displayed in the hexadecimal format given in the description of the <span Class="emphasis">add</span> command. 
<p class="level0"><span Class="bold">[n]merge [filename...]</span> Authorization entries are read from the specified files and are merged into the authorization database, superseding any matching existing entries. If the <span Class="emphasis">nmerge</span> command is used, the numeric format given in the description of the <span Class="emphasis">extract</span> command is used.  If a filename consists of just a single dash, the standard input will be read if it hasn't been read before. 
<p class="level0"><span Class="bold">remove displayname...</span> Authorization entries matching the specified displays are removed from the authority file. 
<p class="level0"><span Class="bold">source filename</span> The specified file is treated as a script containing <span Class="emphasis">xauth</span> commands to execute.  Blank lines and lines beginning with a sharp sign (&#35;) are ignored.  A single dash may be used to indicate the standard input, if it hasn't already been read. 
<p class="level0"><span Class="bold">info</span> Information describing the authorization file, whether or not any changes have been made, and from where <span Class="emphasis">xauth</span> commands are being read is printed on the standard output. 
<p class="level0"><span Class="bold">exit</span> If any modifications have been made, the authority file is written out (if allowed), and the program exits.  An end of file is treated as an implicit <span Class="emphasis">exit</span> command. 
<p class="level0"><span Class="bold">quit</span> The program exits, ignoring any modifications.  This may also be accomplished by pressing the interrupt character. 
<p class="level0"><span Class="bold">version</span> This command shows the version number of the xauth executable. 
<p class="level0"><span Class="bold">help [string]</span> A description of all commands that begin with the given string (or all commands if no string is given) is printed on the standard output. 
<p class="level0"><span Class="bold">?</span> A short list of the valid commands is printed on the standard output. <a name="DISPLAY"></a><h2 class="nroffsh">DISPLAY NAMES</h2>
<p class="level0">Display names for the <span Class="emphasis">add</span>, <span Class="emphasis">[n]extract</span>, <span Class="emphasis">[n]list</span>, <span Class="emphasis">[n]merge</span>, and <span Class="emphasis">remove</span> commands use the same format as the DISPLAY environment variable and the common <span Class="emphasis">-display</span> command line argument.  Display-specific information (such as the screen number) is unnecessary and will be ignored. Same-machine connections (such as local-host sockets, shared memory, and the Internet Protocol hostname <span Class="emphasis">localhost</span>) are referred to as <span Class="emphasis">hostname</span>/unix:<span Class="emphasis">displaynumber</span> so that local entries for different machines may be stored in one authority file. <a name="EXAMPLE"></a><h2 class="nroffsh">EXAMPLE</h2>
<p class="level0">
<p class="level0">The most common use for <span Class="emphasis">xauth</span> is to extract the entry for the current display, copy it to another machine, and merge it into the user's authority file on the remote machine: 
<p class="level0"><pre class="level0">
&nbsp;       %  xauth extract - $DISPLAY | ssh otherhost xauth merge -
</pre>

<p class="level0">
<p class="level0">
<p class="level0">The following command contacts the server :0 to create an authorization using the MIT-MAGIC-COOKIE-1 protocol.  Clients that connect with this authorization will be untrusted. <pre class="level0">
	%  xauth generate :0 .
</pre>

<p class="level0"><a name="ENVIRONMENT"></a><h2 class="nroffsh">ENVIRONMENT</h2>
<p class="level0">This <span Class="emphasis">xauth</span> program uses the following environment variables: 
<p class="level0"><span Class="bold">XAUTHORITY</span> to get the name of the authority file to use if the <span Class="emphasis">-f</span> option isn't used. 
<p class="level0"><span Class="bold">HOME</span> to get the user's home directory if XAUTHORITY isn't defined. <a name="FILES"></a><h2 class="nroffsh">FILES</h2>
<p class="level0">
<p class="level0"><span Class="emphasis">$HOME/.Xauthority</span> default authority file if XAUTHORITY isn't defined. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0">X(7), Xsecurity(7), xhost(1), Xserver(1), xdm(1), startx(1), Xau(3). <a name="BUGS"></a><h2 class="nroffsh">BUGS</h2>
<p class="level0">
<p class="level0">Users that have unsecure networks should take care to use encrypted file transfer mechanisms to copy authorization entries between machines. Similarly, the <span Class="emphasis">MIT-MAGIC-COOKIE-1</span> protocol is not very useful in unsecure environments.  Sites that are interested in additional security may need to use encrypted authorization mechanisms such as Kerberos. 
<p class="level0">Spaces are currently not allowed in the protocol name.  Quoting could be added for the truly perverse. <a name="AUTHOR"></a><h2 class="nroffsh">AUTHOR</h2>
<p class="level0">Jim Fulton, MIT X Consortium 