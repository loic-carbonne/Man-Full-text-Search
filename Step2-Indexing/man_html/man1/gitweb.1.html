
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">gitweb - Git web interface (web frontend to Git repositories) <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">
<p class="level0">To get started with gitweb, run <span Class="bold">git-instaweb</span>(1) from a Git repository. This would configure and start your web server, and run web browser pointing to gitweb. <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">
<p class="level0">Gitweb provides a web interface to Git repositories. Its features include: 
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Viewing multiple Git repositories with common root. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Browsing every revision of the repository. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Viewing the contents of files in the repository at any revision. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Viewing the revision log of branches, history of files and directories, see what was changed when, by who. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Viewing the blame/annotation details of any file (if enabled). 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Generating RSS and Atom feeds of commits, for any branch. The feeds are auto-discoverable in modern web browsers. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Viewing everything that was changed in a revision, and step through revisions one at a time, viewing the history of the repository. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Finding commits which commit messages matches given search term. 
<p class="level0">
<p class="level0">See m[blue]<span Class="bold">http://git.kernel.org/?p=git/git.git;a=tree;f=gitweb</span>m<span Class="bold">http://repo.or.cz/w/git.git/tree/HEAD:/gitweb/</span> or m[blue][]m[] for gitweb source code, browsed using gitweb itself. <a name="CONFIGURATION"></a><h2 class="nroffsh">CONFIGURATION</h2>
<p class="level0">
<p class="level0">Various aspects of gitweb(cqs behavior can be controlled through the configuration file <span Class="emphasis">gitweb_config.perl</span> or <span Class="emphasis">/etc/gitweb.conf</span>. See the <span Class="bold">gitweb.conf</span>(5) for details. <a name="Repositories"></a><h2 class="nroffsh">Repositories</h2>
<p class="level0">
<p class="level0">Gitweb can show information from one or more Git repositories. These repositories have to be all on local filesystem, and have to share common repository root, i.e. be all under a single parent repository (but see also "Advanced web server setup" section, "Webserver configuration with multiple projects*(Aq root" subsection). 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
our $projectroot = *(Aq/path/to/parent/directory*(Aq;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">The default value for $projectroot is <span Class="emphasis">/pub/git</span>. You can change it during building gitweb via GITWEB_PROJECTROOT build configuration variable. 
<p class="level0">By default all Git repositories under $projectroot are visible and available to gitweb. The list of projects is generated by default by scanning the $projectroot directory for Git repositories (for object databases to be more exact; gitweb is not interested in a working area, and is best suited to showing "bare" repositories). 
<p class="level0">The name of the repository in gitweb is the path to its $GIT_DIR (its object database) relative to $projectroot. Therefore the repository $repo can be found at "$projectroot/$repo". <a name="Projects"></a><h2 class="nroffsh">Projects list file format</h2>
<p class="level0">
<p class="level0">Instead of having gitweb find repositories by scanning filesystem starting from $projectroot, you can provide a pre-generated list of visible projects by setting $projects_list to point to a plain text file with a list of projects (with some additional info). 
<p class="level0">This file uses the following format: 
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">One record (for project / repository) per line; does not support line continuation (newline escaping). 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Leading and trailing whitespace are ignored. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Whitespace separated fields; any run of whitespace can be used as field separator (rules for Perl(cqs "split(" ", $line)"). 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Fields use modified URI encoding, defined in <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>, section 2.1 (Percent-Encoding), or rather "Query string encoding" (see m[blue]<span Class="bold">http://en.wikipedia.org/wiki/Query_string&#35;URL_encoding</span>m[]), the difference being that SP (" ") can be encoded as "+" (and therefore "+" has to be also percent-encoded). 
<p class="level1">Reserved characters are: "%" (used for encoding), "+" (can be used to encode SPACE), all whitespace characters as defined in Perl, including SP, TAB and LF, (used to separate fields in a record). 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Currently recognized fields are: 
<p class="level1">&lt;repository path&gt; 
<p class="level2">path to repository GIT_DIR, relative to $projectroot 
<p class="level1">
<p class="level1">&lt;repository owner&gt; 
<p class="level2">displayed as repository owner, preferably full name, or email, or both 
<p class="level1">
<p class="level0">
<p class="level0">You can generate the projects list index file using the project_index action (the <span Class="emphasis">TXT</span> link on projects list page) directly from gitweb; see also "Generating projects list using gitweb" section below. 
<p class="level0">Example contents: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
foo.git       Joe+R+Hacker+&lt;joe@example.com&gt;
foo/bar.git   O+W+Ner+&lt;owner@example.org&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">By default this file controls only which projects are <span Class="bold">visible</span> on projects list page (note that entries that do not point to correctly recognized Git repositories won(cqt be displayed by gitweb). Even if a project is not visible on projects list page, you can view it nevertheless by hand-crafting a gitweb URL. By setting $strict_export configuration variable (see <span Class="bold">gitweb.conf</span>(5)) to true value you can allow viewing only of repositories also shown on the overview page (i.e. only projects explicitly listed in projects list file will be accessible). <a name="Generating"></a><h2 class="nroffsh">Generating projects list using gitweb</h2>
<p class="level0">
<p class="level0">We assume that GITWEB_CONFIG has its default Makefile value, namely <span Class="emphasis">gitweb_config.perl</span>. Put the following in <span Class="emphasis">gitweb_make_index.perl</span> file: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
read_config_file("gitweb_config.perl");
$projects_list = $projectroot;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">Then create the following script to get list of project in the format suitable for GITWEB_LIST build configuration variable (or $projects_list variable in gitweb config): 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
&#35;!/bin/sh
&nbsp;
export GITWEB_CONFIG="gitweb_make_index.perl"
export GATEWAY_INTERFACE="CGI/1.1"
export HTTP_ACCEPT="*/*"
export REQUEST_METHOD="GET"
export QUERY_STRING="a=project_index"
&nbsp;
perl -- /var/www/cgi-bin/gitweb.cgi
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">Run this script and save its output to a file. This file could then be used as projects list file, which means that you can set $projects_list to its filename. <a name="Controlling"></a><h2 class="nroffsh">Controlling access to Git repositories</h2>
<p class="level0">
<p class="level0">By default all Git repositories under $projectroot are visible and available to gitweb. You can however configure how gitweb controls access to repositories. 
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">As described in "Projects list file format" section, you can control which projects are <span Class="bold">visible</span> by selectively including repositories in projects list file, and setting $projects_list gitweb configuration variable to point to it. With $strict_export set, projects list file can be used to control which repositories are <span Class="bold">available</span> as well. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">You can configure gitweb to only list and allow viewing of the explicitly exported repositories, via $export_ok variable in gitweb config file; see <span Class="bold">gitweb.conf</span>(5) manpage. If it evaluates to true, gitweb shows repositories only if this file named by $export_ok exists in its object database (if directory has the magic file named $export_ok). 
<p class="level1">For example <span Class="bold">git-daemon</span>(1) by default (unless --export-all option is used) allows pulling only for those repositories that have <span Class="emphasis">git-daemon-export-ok</span> file. Adding 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2"><pre class="level2">
our $export_ok = "git-daemon-export-ok";
</pre>

<p class="level2">
<p class="level2">
<p class="level1">
<p class="level1">
<p class="level1">makes gitweb show and allow access only to those repositories that can be fetched from via git:// protocol. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1">h'-04'(buh'+03'c 
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="bu"></a><span class="nroffip">\(bu 2.3</span> 
<p class="level1">
<p class="level1">Finally, it is possible to specify an arbitrary perl subroutine that will be called for each repository to determine if it can be exported. The subroutine receives an absolute path to the project (repository) as its only parameter (i.e. "$projectroot/$project"). 
<p class="level1">For example, if you use mod_perl to run the script, and have dumb HTTP protocol authentication configured for your repositories, you can use the following hook to allow access only if the user is authorized to read the files: 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2"><pre class="level2">
$export_auth_hook = sub {
&nbsp;       use Apache2::SubRequest ();
&nbsp;       use Apache2::Const -compile =&gt; qw(HTTP_OK);
&nbsp;       my $path = "$_[0]/HEAD";
&nbsp;       my $r    = Apache2::RequestUtil-&gt;request;
&nbsp;       my $sub  = $r-&gt;lookup_file($path);
&nbsp;       return $sub-&gt;filename eq $path
&nbsp;           && $sub-&gt;status == Apache2::Const::HTTP_OK;
};
</pre>

<p class="level2">
<p class="level2">
<p class="level1">
<p class="level1">
<p class="level1">
<p class="level0"><a name="Per-repository"></a><h2 class="nroffsh">Per-repository gitweb configuration</h2>
<p class="level0">
<p class="level0">You can configure individual repositories shown in gitweb by creating file in the <span Class="emphasis">GIT_DIR</span> of Git repository, or by setting some repo configuration variable (in <span Class="emphasis">GIT_DIR/config</span>, see <span Class="bold">git-config</span>(1)). 
<p class="level0">You can use the following files in repository: 
<p class="level0">README.html 
<p class="level1">A html file (HTML fragment) which is included on the gitweb project "summary" page inside &lt;div&gt; block element. You can use it for longer description of a project, to provide links (for example to project(cqs homepage), etc. This is recognized only if XSS prevention is off ($prevent_xss is false, see <span Class="bold">gitweb.conf</span>(5)); a way to include a README safely when XSS prevention is on may be worked out in the future. 
<p class="level0">
<p class="level0">description (or gitweb.description) 
<p class="level1">Short (shortened to $projects_list_description_width in the projects list page, which is 25 characters by default; see <span Class="bold">gitweb.conf</span>(5)) single line description of a project (of a repository). Plain text file; HTML will be escaped. By default set to 
<p class="level1">
<p class="level1">
<p class="level2">
<p class="level2"><pre class="level2">
Unnamed repository; edit this file to name it for gitweb.
</pre>

<p class="level2">
<p class="level2">
<p class="level1">
<p class="level1">
<p class="level1">from the template during repository creation, usually installed in <span Class="emphasis">/usr/share/git-core/templates/</span>. You can use the gitweb.description repo configuration variable, but the file takes precedence. 
<p class="level0">
<p class="level0">category (or gitweb.category) 
<p class="level1">Singe line category of a project, used to group projects if $projects_list_group_categories is enabled. By default (file and configuration variable absent), uncategorized projects are put in the $project_list_default_category category. You can use the gitweb.category repo configuration variable, but the file takes precedence. 
<p class="level1">The configuration variables $projects_list_group_categories and $project_list_default_category are described in <span Class="bold">gitweb.conf</span>(5) 
<p class="level0">
<p class="level0">cloneurl (or multiple-valued gitweb.url) 
<p class="level1">File with repository URL (used for clone and fetch), one per line. Displayed in the project summary page. You can use multiple-valued gitweb.url repository configuration variable for that, but the file takes precedence. 
<p class="level1">This is per-repository enhancement / version of global prefix-based @git_base_url_list gitweb configuration variable (see <span Class="bold">gitweb.conf</span>(5)). 
<p class="level0">
<p class="level0">gitweb.owner 
<p class="level1">You can use the gitweb.owner repository configuration variable to set repository(cqs owner. It is displayed in the project list and summary page. 
<p class="level1">If it(cqs not set, filesystem directory(cqs owner is used (via GECOS field, i.e. real name field from <span Class="bold">getpwuid</span>(3)) if $projects_list is unset (gitweb scans $projectroot for repositories); if $projects_list points to file with list of repositories, then project owner defaults to value from this file for given repository. 
<p class="level0">
<p class="level0">various gitweb.* config variables (in config) 
<p class="level1">Read description of %feature hash for detailed list, and descriptions. See also "Configuring gitweb features" section in <span Class="bold">gitweb.conf</span>(5) 
<p class="level0"><a name="ACTIONS"></a><h2 class="nroffsh">ACTIONS, AND URLS</h2>
<p class="level0">
<p class="level0">Gitweb can use path_info (component) based URLs, or it can pass all necessary information via query parameters. The typical gitweb URLs are broken down in to five components: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
.../gitweb.cgi/&lt;repo&gt;/&lt;action&gt;/&lt;revision&gt;:/&lt;path&gt;?&lt;arguments&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">repo 
<p class="level1">The repository the action will be performed on. 
<p class="level1">All actions except for those that list all available projects, in whatever form, require this parameter. 
<p class="level0">
<p class="level0">action 
<p class="level1">The action that will be run. Defaults to <span Class="emphasis">projects_list</span> if repo is not set, and to <span Class="emphasis">summary</span> otherwise. 
<p class="level0">
<p class="level0">revision 
<p class="level1">Revision shown. Defaults to HEAD. 
<p class="level0">
<p class="level0">path 
<p class="level1">The path within the &lt;repository&gt; that the action is performed on, for those actions that require it. 
<p class="level0">
<p class="level0">arguments 
<p class="level1">Any arguments that control the behaviour of the action. 
<p class="level0">
<p class="level0">Some actions require or allow to specify two revisions, and sometimes even two pathnames. In most general form such path_info (component) based gitweb URL looks like this: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
.../gitweb.cgi/&lt;repo&gt;/&lt;action&gt;/&lt;revision_from&gt;:/&lt;path_from&gt;..&lt;revision_to&gt;:/&lt;path_to&gt;?&lt;arguments&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">Each action is implemented as a subroutine, and must be present in %actions hash. Some actions are disabled by default, and must be turned on via feature mechanism. For example to enable <span Class="emphasis">blame</span> view add the following to gitweb configuration file: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
$feature{*(Aqblame*(Aq}{*(Aqdefault*(Aq} = [1];
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0"><a name="Actions"></a><h2 class="nroffsh">Actions:</h2>
<p class="level0">
<p class="level0">The standard actions are: 
<p class="level0">project_list 
<p class="level1">Lists the available Git repositories. This is the default command if no repository is specified in the URL. 
<p class="level0">
<p class="level0">summary 
<p class="level1">Displays summary about given repository. This is the default command if no action is specified in URL, and only repository is specified. 
<p class="level0">
<p class="level0">heads, remotes 
<p class="level1">Lists all local or all remote-tracking branches in given repository. 
<p class="level1">The latter is not available by default, unless configured. 
<p class="level0">
<p class="level0">tags 
<p class="level1">List all tags (lightweight and annotated) in given repository. 
<p class="level0">
<p class="level0">blob, tree 
<p class="level1">Shows the files and directories in a given repository path, at given revision. This is default command if no action is specified in the URL, and path is given. 
<p class="level0">
<p class="level0">blob_plain 
<p class="level1">Returns the raw data for the file in given repository, at given path and revision. Links to this action are marked <span Class="emphasis">raw</span>. 
<p class="level0">
<p class="level0">blobdiff 
<p class="level1">Shows the difference between two revisions of the same file. 
<p class="level0">
<p class="level0">blame, blame_incremental 
<p class="level1">Shows the blame (also called annotation) information for a file. On a per line basis it shows the revision in which that line was last changed and the user that committed the change. The incremental version (which if configured is used automatically when JavaScript is enabled) uses Ajax to incrementally add blame info to the contents of given file. 
<p class="level1">This action is disabled by default for performance reasons. 
<p class="level0">
<p class="level0">commit, commitdiff 
<p class="level1">Shows information about a specific commit in a repository. The <span Class="emphasis">commit</span> view shows information about commit in more detail, the <span Class="emphasis">commitdiff</span> action shows changeset for given commit. 
<p class="level0">
<p class="level0">patch 
<p class="level1">Returns the commit in plain text mail format, suitable for applying with <span Class="bold">git-am</span>(1). 
<p class="level0">
<p class="level0">tag 
<p class="level1">Display specific annotated tag (tag object). 
<p class="level0">
<p class="level0">log, shortlog 
<p class="level1">Shows log information (commit message or just commit subject) for a given branch (starting from given revision). 
<p class="level1">The <span Class="emphasis">shortlog</span> view is more compact; it shows one commit per line. 
<p class="level0">
<p class="level0">history 
<p class="level1">Shows history of the file or directory in a given repository path, starting from given revision (defaults to HEAD, i.e. default branch). 
<p class="level1">This view is similar to <span Class="emphasis">shortlog</span> view. 
<p class="level0">
<p class="level0">rss, atom 
<p class="level1">Generates an RSS (or Atom) feed of changes to repository. 
<p class="level0"><a name="WEBSERVER"></a><h2 class="nroffsh">WEBSERVER CONFIGURATION</h2>
<p class="level0">
<p class="level0">This section explains how to configure some common webservers to run gitweb. In all cases, /path/to/gitweb in the examples is the directory you ran installed gitweb in, and contains gitweb_config.perl. 
<p class="level0">If you(cqve configured a web server that isn(cqt listed here for gitweb, please send in the instructions so they can be included in a future release. <a name="Apache"></a><h2 class="nroffsh">Apache as CGI</h2>
<p class="level0">
<p class="level0">Apache must be configured to support CGI scripts in the directory in which gitweb is installed. Let(cqs assume that it is <span Class="emphasis">/var/www/cgi-bin</span> directory. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"
&nbsp;
&lt;Directory "/var/www/cgi-bin"&gt;
&nbsp;   Options Indexes FollowSymlinks ExecCGI
&nbsp;   AllowOverride None
&nbsp;   Order allow,deny
&nbsp;   Allow from all
&lt;/Directory&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">With that configuration the full path to browse repositories would be: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://server/cgi-bin/gitweb.cgi
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0"><a name="Apache"></a><h2 class="nroffsh">Apache with mod_perl, via ModPerl::Registry</h2>
<p class="level0">
<p class="level0">You can use mod_perl with gitweb. You must install Apache::Registry (for mod_perl 1.x) or ModPerl::Registry (for mod_perl 2.x) to enable this support. 
<p class="level0">Assuming that gitweb is installed to <span Class="emphasis">/var/www/perl</span>, the following Apache configuration (for mod_perl 2.x) is suitable. 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
Alias /perl "/var/www/perl"
&nbsp;
&lt;Directory "/var/www/perl"&gt;
&nbsp;   SetHandler perl-script
&nbsp;   PerlResponseHandler ModPerl::Registry
&nbsp;   PerlOptions +ParseHeaders
&nbsp;   Options Indexes FollowSymlinks +ExecCGI
&nbsp;   AllowOverride None
&nbsp;   Order allow,deny
&nbsp;   Allow from all
&lt;/Directory&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">With that configuration the full path to browse repositories would be: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://server/perl/gitweb.cgi
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0"><a name="Apache"></a><h2 class="nroffsh">Apache with FastCGI</h2>
<p class="level0">
<p class="level0">Gitweb works with Apache and FastCGI. First you need to rename, copy or symlink gitweb.cgi to gitweb.fcgi. Let(cqs assume that gitweb is installed in <span Class="emphasis">/usr/share/gitweb</span> directory. The following Apache configuration is suitable (UNTESTED!) 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
FastCgiServer /usr/share/gitweb/gitweb.cgi
ScriptAlias /gitweb /usr/share/gitweb/gitweb.cgi
&nbsp;
Alias /gitweb/static /usr/share/gitweb/static
&lt;Directory /usr/share/gitweb/static&gt;
&nbsp;   SetHandler default-handler
&lt;/Directory&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">With that configuration the full path to browse repositories would be: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://server/gitweb
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0"><a name="ADVANCED"></a><h2 class="nroffsh">ADVANCED WEB SERVER SETUP</h2>
<p class="level0">
<p class="level0">All of those examples use request rewriting, and need mod_rewrite (or equivalent; examples below are written for Apache). <a name="Single"></a><h2 class="nroffsh">Single URL for gitweb and for fetching</h2>
<p class="level0">
<p class="level0">If you want to have one URL for both gitweb and your http:// repositories, you can configure Apache like this: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
&lt;VirtualHost *:80&gt;
&nbsp;   ServerName    git.example.org
&nbsp;   DocumentRoot  /pub/git
&nbsp;   SetEnv        GITWEB_CONFIG   /etc/gitweb.conf
&nbsp;
&nbsp;   &#35; turning on mod rewrite
&nbsp;   RewriteEngine on
&nbsp;
&nbsp;   &#35; make the front page an internal rewrite to the gitweb script
&nbsp;   RewriteRule ^/$  /cgi-bin/gitweb.cgi
&nbsp;
&nbsp;   &#35; make access for "dumb clients" work
&nbsp;   RewriteRule ^/(.*e.git/(?!/?(HEAD|info|objects|refs)).*)?$ e
&nbsp;               /cgi-bin/gitweb.cgi%{REQUEST_URI}  [L,PT]
&lt;/VirtualHost&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">The above configuration expects your public repositories to live under <span Class="emphasis">/pub/git</span> and will serve them as <a href="http://git.domain.org/dir-under-pub-git,">http://git.domain.org/dir-under-pub-git,</a> both as clonable Git URL and as browseable gitweb interface. If you then start your <span Class="bold">git-daemon</span>(1) with --base-path=/pub/git --export-all then you can even use the git:// URL with exactly the same path. 
<p class="level0">Setting the environment variable GITWEB_CONFIG will tell gitweb to use the named file (i.e. in this example <span Class="emphasis">/etc/gitweb.conf</span>) as a configuration for gitweb. You don(cqt really need it in above example; it is required only if your configuration file is in different place than built-in (during compiling gitweb) <span Class="emphasis">gitweb_config.perl</span> or <span Class="emphasis">/etc/gitweb.conf</span>. See <span Class="bold">gitweb.conf</span>(5) for details, especially information about precedence rules. 
<p class="level0">If you use the rewrite rules from the example you <span Class="bold">might</span> also need something like the following in your gitweb configuration file (<span Class="emphasis">/etc/gitweb.conf</span> following example): 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
@stylesheets = ("/some/absolute/path/gitweb.css");
$my_uri    = "/";
$home_link = "/";
$per_request_config = 1;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">Nowadays though gitweb should create HTML base tag when needed (to set base URI for relative links), so it should work automatically. <a name="Webserver"></a><h2 class="nroffsh">Webserver configuration with multiple projects\*(Aq root</h2>
<p class="level0">
<p class="level0">If you want to use gitweb with several project roots you can edit your Apache virtual host and gitweb configuration files in the following way. 
<p class="level0">The virtual host configuration (in Apache configuration file) should look like this: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
&lt;VirtualHost *:80&gt;
&nbsp;   ServerName    git.example.org
&nbsp;   DocumentRoot  /pub/git
&nbsp;   SetEnv        GITWEB_CONFIG  /etc/gitweb.conf
&nbsp;
&nbsp;   &#35; turning on mod rewrite
&nbsp;   RewriteEngine on
&nbsp;
&nbsp;   &#35; make the front page an internal rewrite to the gitweb script
&nbsp;   RewriteRule ^/$  /cgi-bin/gitweb.cgi  [QSA,L,PT]
&nbsp;
&nbsp;   &#35; look for a public_git folder in unix users*(Aq home
&nbsp;   &#35; http://git.example.org/~&lt;user&gt;/
&nbsp;   RewriteRule ^/e~([^e/]+)(/|/gitweb.cgi)?$   /cgi-bin/gitweb.cgi e
&nbsp;               [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]
&nbsp;
&nbsp;   &#35; http://git.example.org/+&lt;user&gt;/
&nbsp;   &#35;RewriteRule ^/e+([^e/]+)(/|/gitweb.cgi)?$  /cgi-bin/gitweb.cgi e
&nbsp;                [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]
&nbsp;
&nbsp;   &#35; http://git.example.org/user/&lt;user&gt;/
&nbsp;   &#35;RewriteRule ^/user/([^e/]+)/(gitweb.cgi)?$ /cgi-bin/gitweb.cgi e
&nbsp;                [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]
&nbsp;
&nbsp;   &#35; defined list of project roots
&nbsp;   RewriteRule ^/scm(/|/gitweb.cgi)?$ /cgi-bin/gitweb.cgi e
&nbsp;               [QSA,E=GITWEB_PROJECTROOT:/pub/scm/,L,PT]
&nbsp;   RewriteRule ^/var(/|/gitweb.cgi)?$ /cgi-bin/gitweb.cgi e
&nbsp;               [QSA,E=GITWEB_PROJECTROOT:/var/git/,L,PT]
&nbsp;
&nbsp;   &#35; make access for "dumb clients" work
&nbsp;   RewriteRule ^/(.*e.git/(?!/?(HEAD|info|objects|refs)).*)?$ e
&nbsp;               /cgi-bin/gitweb.cgi%{REQUEST_URI}  [L,PT]
&lt;/VirtualHost&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">Here actual project root is passed to gitweb via GITWEB_PROJECT_ROOT environment variable from a web server, so you need to put the following line in gitweb configuration file (<span Class="emphasis">/etc/gitweb.conf</span> in above example): 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
$projectroot = $ENV{*(AqGITWEB_PROJECTROOT*(Aq} || "/pub/git";
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0"><span Class="bold">Note</span> that this requires to be set for each request, so either $per_request_config must be false, or the above must be put in code referenced by $per_request_config; 
<p class="level0">These configurations enable two things. First, each unix user (&lt;user&gt;) of the server will be able to browse through gitweb Git repositories found in <span Class="emphasis">~/public_git/</span> with the following url: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://git.example.org/~&lt;user&gt;/
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">If you do not want this feature on your server just remove the second rewrite rule. 
<p class="level0">If you already use (oqmod_userdir` in your virtual host or you don(cqt want to use the *(Aq~(cq as first character, just comment or remove the second rewrite rule, and uncomment one of the following according to what you want. 
<p class="level0">Second, repositories found in <span Class="emphasis">/pub/scm/</span> and <span Class="emphasis">/var/git/</span> will be accessible through <a href="http://git.example.org/scm/">http://git.example.org/scm/</a> and <a href="http://git.example.org/var/.">http://git.example.org/var/.</a> You can add as many project roots as you want by adding rewrite rules like the third and the fourth. <a name="PATHINFO"></a><h2 class="nroffsh">PATH_INFO usage</h2>
<p class="level0">
<p class="level0">If you enable PATH_INFO usage in gitweb by putting 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
$feature{*(Aqpathinfo*(Aq}{*(Aqdefault*(Aq} = [1];
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">in your gitweb configuration file, it is possible to set up your server so that it consumes and produces URLs in the form 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://git.example.com/project.git/shortlog/sometag
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">i.e. without <span Class="emphasis">gitweb.cgi</span> part, by using a configuration such as the following. This configuration assumes that <span Class="emphasis">/var/www/gitweb</span> is the DocumentRoot of your webserver, contains the gitweb.cgi script and complementary static files (stylesheet, favicon, JavaScript): 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
&lt;VirtualHost *:80&gt;
&nbsp;       ServerAlias git.example.com
&nbsp;
&nbsp;       DocumentRoot /var/www/gitweb
&nbsp;
&nbsp;       &lt;Directory /var/www/gitweb&gt;
&nbsp;               Options ExecCGI
&nbsp;               AddHandler cgi-script cgi
&nbsp;
&nbsp;               DirectoryIndex gitweb.cgi
&nbsp;
&nbsp;               RewriteEngine On
&nbsp;               RewriteCond %{REQUEST_FILENAME} !-f
&nbsp;               RewriteCond %{REQUEST_FILENAME} !-d
&nbsp;               RewriteRule ^.* /gitweb.cgi/$0 [L,PT]
&nbsp;       &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">The rewrite rule guarantees that existing static files will be properly served, whereas any other URL will be passed to gitweb as PATH_INFO parameter. 
<p class="level0"><span Class="bold">Notice</span> that in this case you don(cqt need special settings for @stylesheets, $my_uri and $home_link, but you lose "dumb client" access to your project .git dirs (described in "Single URL for gitweb and for fetching" section). A possible workaround for the latter is the following: in your project root dir (e.g. <span Class="emphasis">/pub/git</span>) have the projects named <span Class="bold">without</span> a .git extension (e.g. <span Class="emphasis">/pub/git/project</span> instead of <span Class="emphasis">/pub/git/project.git</span>) and configure Apache as follows: 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
&lt;VirtualHost *:80&gt;
&nbsp;       ServerAlias git.example.com
&nbsp;
&nbsp;       DocumentRoot /var/www/gitweb
&nbsp;
&nbsp;       AliasMatch ^(/.*?)(e.git)(/.*)?$ /pub/git$1$3
&nbsp;       &lt;Directory /var/www/gitweb&gt;
&nbsp;               Options ExecCGI
&nbsp;               AddHandler cgi-script cgi
&nbsp;
&nbsp;               DirectoryIndex gitweb.cgi
&nbsp;
&nbsp;               RewriteEngine On
&nbsp;               RewriteCond %{REQUEST_FILENAME} !-f
&nbsp;               RewriteCond %{REQUEST_FILENAME} !-d
&nbsp;               RewriteRule ^.* /gitweb.cgi/$0 [L,PT]
&nbsp;       &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">
<p class="level0">The additional AliasMatch makes it so that 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://git.example.com/project.git
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">will give raw access to the project(cqs Git dir (so that the project can be cloned), while 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://git.example.com/project
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">will provide human-friendly gitweb access. 
<p class="level0">This solution is not 100% bulletproof, in the sense that if some project has a named ref (branch, tag) starting with <span Class="emphasis">git/</span>, then paths such as 
<p class="level0">
<p class="level0">
<p class="level1">
<p class="level1"><pre class="level1">
http://git.example.com/project/command/abranch..git/abranch
</pre>

<p class="level1">
<p class="level1">
<p class="level0">
<p class="level0">
<p class="level0">will fail with a 404 error. <a name="BUGS"></a><h2 class="nroffsh">BUGS</h2>
<p class="level0">
<p class="level0">Please report any bugs or feature requests to m[blue]<span Class="bold">git@vger.kernel.org</span>m[]s-2u[1]ds+2, putting "gitweb" in the subject of email. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0">
<p class="level0"><span Class="bold">gitweb.conf</span>(5), <span Class="bold">git-instaweb</span>(1) 
<p class="level0"><span Class="emphasis">gitweb/README</span>, <span Class="emphasis">gitweb/INSTALL</span> <a name="GIT"></a><h2 class="nroffsh">GIT</h2>
<p class="level0">
<p class="level0">Part of the <span Class="bold">git</span>(1) suite <a name="NOTES"></a><h2 class="nroffsh">NOTES</h2>
<p class="level0">
<p class="level0"><a name=""></a><span class="nroffip"> 1. 4</span> 
<p class="level1">git@vger.kernel.org 
<p class="level2">%mailto:git@vger.kernel.org 
<p class="level1">